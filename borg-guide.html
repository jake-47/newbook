<!DOCTYPE HTML>
<html lang="en" class="light" dir="ltr">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Borg Simple Guide for MacOS</title>


        <!-- Custom HTML head -->

        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff">

        <link rel="icon" href="favicon.svg">
        <link rel="shortcut icon" href="favicon.png">
        <link rel="stylesheet" href="css/variables.css">
        <link rel="stylesheet" href="css/general.css">
        <link rel="stylesheet" href="css/chrome.css">
        <link rel="stylesheet" href="css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="fonts/fonts.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="highlight.css">
        <link rel="stylesheet" href="tomorrow-night.css">
        <link rel="stylesheet" href="ayu-highlight.css">

        <!-- Custom theme stylesheets -->
        <link rel="stylesheet" href="section-lines.css">
        <link rel="stylesheet" href="version-commit.css">

    </head>
    <body class="sidebar-visible no-js">
    <div id="body-container">
        <!-- Provide site root to javascript -->
        <script>
            var path_to_root = "";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script>
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script>
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('light')
            html.classList.add(theme);
            var body = document.querySelector('body');
            body.classList.remove('no-js')
            body.classList.add('js');
        </script>

        <input type="checkbox" id="sidebar-toggle-anchor" class="hidden">

        <!-- Hide / unhide sidebar before it is displayed -->
        <script>
            var body = document.querySelector('body');
            var sidebar = null;
            var sidebar_toggle = document.getElementById("sidebar-toggle-anchor");
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            } else {
                sidebar = 'hidden';
            }
            sidebar_toggle.checked = sidebar === 'visible';
            body.classList.remove('sidebar-visible');
            body.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">

<!-- Start extra link above the ToC -->
<!--
                &#x2192; <a class='part-title' href='https://github.com/'>GitHub</a>
                <hr/>
-->
<!-- End extra link above the ToC -->

                <ol class="chapter"><li class="chapter-item expanded affix "><a href="homepage.html">Homepage</a></li><li class="chapter-item expanded "><a href="borg-guide.html">Borg Simple Guide for MacOS</a></li><li class="chapter-item expanded "><a href="bitcoin-letter.html">Bitcoin Letter</a></li></ol>

<!-- Start version-commit content below ToC -->
                <hr/>
                <div class="part-title">Version</div>
                <div id="commit" class='version-commit-div'>
                    <span class='version-commit-hash'><tt>9cf8c95</tt></span><br/>
                    <span class='version-commit-time'><tt>2025-01-11 07:28:02 +0000</tt></span>
                </div>
                <div class="part-title">Generated</div>
                <div id="generated" class='version-commit-div'>
                    <span class='version-commit-now'><tt>2025-01-11 07:28:24 +0000</tt></span>
                </div>
<!-- End version-commit content below ToC -->

            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <!-- Track and set sidebar scroll position -->
        <script>
            var sidebarScrollbox = document.querySelector('#sidebar .sidebar-scrollbox');
            sidebarScrollbox.addEventListener('click', function(e) {
                if (e.target.tagName === 'A') {
                    sessionStorage.setItem('sidebar-scroll', sidebarScrollbox.scrollTop);
                }
            }, { passive: true });
            var sidebarScrollTop = sessionStorage.getItem('sidebar-scroll');
            sessionStorage.removeItem('sidebar-scroll');
            if (sidebarScrollTop) {
                // preserve sidebar scroll position when navigating via links within sidebar
                sidebarScrollbox.scrollTop = sidebarScrollTop;
            } else {
                // scroll sidebar to current active section when navigating via "next/previous chapter" buttons
                var activeSection = document.querySelector('#sidebar .active');
                if (activeSection) {
                    activeSection.scrollIntoView({ block: 'center' });
                }
            }
        </script>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky">
                    <div class="left-buttons">
                        <label id="sidebar-toggle" class="icon-button" for="sidebar-toggle-anchor" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </label>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title"></h1>

                    <div class="right-buttons">
                        <a href="print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>
                        <a href="https://github.com/kg4zow/mdbook-template" title="Git repository" aria-label="Git repository">
                            <i id="git-repository-button" class="fa fa-github"></i>
                        </a>

                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script>
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="borg-simple-guide-for-macos"><a class="header" href="#borg-simple-guide-for-macos">Borg simple guide for MacOS</a></h1>
<hr />
<p>This guide provides a simple, easy-to-follow directions for non-technical MacOS users to start using Borg Backup (considered by many to be the holy grail of backups) and avoid siftting through cluttered and confusing documentation.</p>
<p>It's interesting that the amount of information lay people need to benefit from complex apps, is actually not much. Borg's documentation is extensive, and most likely written by devs for for non-technical-users.</p>
<h2 id="create-backup"><a class="header" href="#create-backup">Create backup</a></h2>
<p>This section is all you will need on a regular basis to create backups. It's only when you get yourself a new laptop will you need the other sections.</p>
<blockquote>
<p><strong>Note</strong>: Make backups periodically, in both pendrives, once a day or once a week, and definitely before you have to change your laptop.</p>
</blockquote>
<ol>
<li>Open the terminal (Press <em>CMD</em> and <em>Spacebar</em>, and search for "terminal").</li>
<li>Keep pressing the up arrow until you see the command below, and hit <em>Enter</em>. If you can't find the command, then copy the command below, and paste it in the terminal (press <em>CMD</em> and <em>V</em>).
<pre><code>borg create --stats --progress /Volumes/spb/sborgbackup::{now} ~/Documents/S
</code></pre>
</li>
<li>Enter your backup password, and hit <em>Enter</em>. Don't worry if you don't see anything in the terminal as you type the password. If you are on a new laptop, or making backups after a long time, the backup will take some time; but the second time around, it will be much faster. After the backup process is complete, you should see something like the image below.<img src="./borg-stats.png" alt="borg-stats" />
<blockquote>
<p><strong>Warning:</strong> Lose your password, and your backups are gone forever. Ensure you write it down carefully and store safely.</p>
</blockquote>
</li>
<li>Insert your second pendrive, and run the command in step 2 after editing the part which says <code>spb</code> to <code>ssb</code> (s secondary backup) in the terminal. Your mouse won't work, so you will have to use the arrow keys to navigate to that part of the command.</li>
</ol>
<h2 id="create-repo"><a class="header" href="#create-repo">Create repo</a></h2>
<p>The repo was already created for you, in both pendrives, so you won't need this section unless you lose a pendrive. You only need to create the repo once in your new pendrive, and then continue making backups as described above. To create a new repo, follow the steps below:</p>
<p><strong>Note</strong>: Always keep backups in at least two pendrives.</p>
<ol>
<li>In you new pendrive, create a folder <code>spb</code> or <code>ssb</code>, depending on which pendrive you are creating the folder.</li>
<li>Run the command (after changing the folder name to the one you created in step 1):
<pre><code>borg init --encryption=repokey /Volumes/spb/sborgbackup
</code></pre>
</li>
<li>Enter your password, twice.</li>
<li>Press the letter <code>n</code> .</li>
</ol>
<p>Your repo should be created. And you can now continue as usual with making backups.</p>
<h2 id="install-borg"><a class="header" href="#install-borg">Install Borg</a></h2>
<p>If you change your laptop, then you will have to install Borg Backup. And then also restore your backup (described below). To install borg on a new laptop, follow the steps below.</p>
<ol>
<li>Install Homebrew, by running the command in the terminal:
<pre><code>/bin/bash -c "$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/HEAD/install.sh)"
</code></pre>
</li>
<li>The Homebrew installation script will ask you to enter your Mac user password. This is the password you use to sign into your Mac. If you get stuck with the installation of Homebrew, <a href="https://mac.install.guide/homebrew/3">https://mac.install.guide/homebrew/3</a></li>
<li>Install Borg, by running this command:
<pre><code>brew install borgbackup
</code></pre>
</li>
</ol>
<p>Borg should be installed. With Borg installed, you can proceed to restoring the backup (next section), and then continue as usual with making backups.</p>
<h2 id="restore-backup"><a class="header" href="#restore-backup">Restore backup</a></h2>
<ol>
<li>In the terminal, run this command (copy and paste [<em>CMD</em> and <em>V</em>] the command in the terminal).
<pre><code>borg list /Volumes/spb/sborgbackup
</code></pre>
</li>
<li>This will bring up a list of all the backups you have made. Typically, you will only need the latest backup. It's only if the last backup is corrupted do the older backups become useful. Copy the lastest timestamp (CMD+C); it will look something like this <code>2024-05-09T19:15:31</code>.</li>
<li>Run the following command (you're telling the terminal to go to this location, where the backup will be decrypted and extracted in the next step):
<pre><code>cd ~/Documents
</code></pre>
</li>
<li>Run the following command after deleting that timestamp and pasting the latest one (<em>CMD</em> and <em>V</em>) in the terminal: 
<pre><code>borg extract --progress /Volumes/spb/sborgbackup::2024-05-09T19:15:31
</code></pre>
</li>
<li>You should see in Documents a folder called <em>Home</em>; open it and the folders within until you see your <em>S</em> folder. Cut and paste your folder in Documents, and then delete the Home folder.</li>
<li>To restore backup from the second pendrive, remember to change the path name in the command of step 4 to <code>/Volume/ssb/sborgbackup</code>.</li>
</ol>
<h2 id="learn-more"><a class="header" href="#learn-more">Learn more</a></h2>
<p><a href="https://borgbackup.readthedocs.io/en/stable/quickstart.html">https://borgbackup.readthedocs.io/en/stable/quickstart.html</a></p>


<!-- Start version-commit content below every page -->
                        <hr/>
                        <div class="version-commit-div" style="float: right">
                            Generated
                            <span class='version-commit-now'><tt>2025-01-11 07:28:24 +0000</tt></span>
                        </div>
                        <div class="version-commit-div">
                            <span class='version-commit-hash'><tt>9cf8c95</tt></span>
                            <span class='version-commit-time'><tt>2025-01-11 07:28:02 +0000</tt></span>
                        </div>
<!-- End version-commit content below every page -->

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                            <a rel="prev" href="homepage.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>

                            <a rel="next prefetch" href="bitcoin-letter.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                    <a rel="prev" href="homepage.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>

                    <a rel="next prefetch" href="bitcoin-letter.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
            </nav>

        </div>




        <script>
            window.playground_copyable = true;
        </script>


        <script src="elasticlunr.min.js"></script>
        <script src="mark.min.js"></script>
        <script src="searcher.js"></script>

        <script src="clipboard.min.js"></script>
        <script src="highlight.js"></script>
        <script src="book.js"></script>

        <!-- Custom JS scripts -->


    </div>
    </body>
</html>
